{'DISCARD': [{'redis> MULTI\nOK\n\nredis> PING\nQUEUED\n\nredis> SET greeting "hello"\nQUEUED\n\nredis> DISCARD\nOK'}, {'http://doc.redisfans.com/transaction/discard.html'}], 'EXEC': [{'# 事务被成功执行\n\nredis> MULTI\nOK\n\nredis> INCR user_id\nQUEUED\n\nredis> INCR user_id\nQUEUED\n\nredis> INCR user_id\nQUEUED\n\nredis> PING\nQUEUED\n\nredis> EXEC\n1) (integer) 1\n2) (integer) 2\n3) (integer) 3\n4) PONG\n\n\n# 监视 key ，且事务成功执行\n\nredis> WATCH lock lock_times\nOK\n\nredis> MULTI\nOK\n\nredis> SET lock "huangz"\nQUEUED\n\nredis> INCR lock_times\nQUEUED\n\nredis> EXEC\n1) OK\n2) (integer) 1\n\n\n# 监视 key ，且事务被打断\n\nredis> WATCH lock lock_times\nOK\n\nredis> MULTI\nOK\n\nredis> SET lock "joe"        # 就在这时，另一个客户端修改了 lock_times 的值\nQUEUED\n\nredis> INCR lock_times\nQUEUED\n\nredis> EXEC                  # 因为 lock_times 被修改， joe 的事务执行失败\n(nil)'}, {'http://doc.redisfans.com/transaction/exec.html'}], 'MULTI': [{'redis> MULTI            # 标记事务开始\nOK\n\nredis> INCR user_id     # 多条命令按顺序入队\nQUEUED\n\nredis> INCR user_id\nQUEUED\n\nredis> INCR user_id\nQUEUED\n\nredis> PING\nQUEUED\n\nredis> EXEC             # 执行\n1) (integer) 1\n2) (integer) 2\n3) (integer) 3\n4) PONG'}, {'http://doc.redisfans.com/transaction/multi.html'}], 'UNWATCH': [{'redis> WATCH lock lock_times\nOK\n\nredis> UNWATCH\nOK'}, {'http://doc.redisfans.com/transaction/unwatch.html'}], 'WATCH': [{'redis> WATCH lock lock_times\nOK'}, {'http://doc.redisfans.com/transaction/watch.html'}]}